<!DOCTYPE HTML>

<html>
	<head>
		<title>Tufts Marauder's Map</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="style.css"/>
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBGvUJlso3Vyw_1J4CpBvob7RowMWQssvk"></script>
	    <script type="text/javascript">
		    // xhr = new XMLHttpRequest();

		    function success(pos) {
			  var crd = pos.coords;

			  var marker = new google.maps.Marker({
			  	position: new google.maps.LatLng(crd.latitude, crd.longitude),
			  	title: "me!"
			  });

			  marker.setMap(map);

			  console.log('Your current position is:');
			  console.log('Latitude : ' + crd.latitude);
			  console.log('Longitude: ' + crd.longitude);
			  console.log('More or less ' + crd.accuracy + ' meters.');
			};

			function error(err) {
			  console.warn('ERROR(' + err.code + '): ' + err.message);
			};

			navigator.geolocation.getCurrentPosition(success, error);

		    function initialize() {
				var mapOptions;

		        mapOptions = {
		          center: { lat: 42.358431, lng: -71.059773},
		          zoom: 8
		        };

		        // Global Google map
		        map = new google.maps.Map(document.getElementById('map-canvas'),
		            mapOptions);

		        /*xhr.open("get", "http://developer.mbta.com/lib/rthr/red.json" true);
		        xhr.onreadystatechange = dataReady;
		        xhr.send();*/
	  	    }
	 
			/*function dataReady() {
		      	if (xhr.readyState == 4 && xhr.status == 200) {
		      		scheduleData = JSON.parse(xhr.responseText);
		      		scheduleDom = document.getElementById("schedule");
		      		scheduleDom.innerHTML = scheduleData["line"];
		      	}
		   		else if (xhr.readyState == 4 && xhr.status == 500) {
		   			scheduleDom = document.getElementById("schedule");
		   			scheduleDom.innerHTML = "failed...";
		   		}
		    }*/

		    google.maps.event.addDomListener(window, 'load', initialize);
	    </script>
	</head>

	<body>
		<div id="map-canvas">text</div>
	</body>
	
</html>